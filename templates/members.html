<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <title>Ù„ÛŒØ³Øª Ø§Ø¹Ø¶Ø§</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        /* Ø§Ø³ØªØ§ÛŒÙ„ ÙÛŒÙ„Ø¯ Ø¬Ø³Øªâ€ŒÙˆØ¬Ùˆ */
        .search-box {
            margin-bottom: 20px;
            text-align: right;
        }
        .search-box input {
            width: 300px;
            padding: 8px;
            font-size: 14px;
        }
    </style>
</head>
<body>

<div class="page">
    <h1>ğŸ‘¥ Ù„ÛŒØ³Øª Ø§Ø¹Ø¶Ø§</h1>

    <div class="search-box">
        <label for="memberSearch">ğŸ” Ø¬Ø³Øªâ€ŒÙˆØ¬Ùˆ: </label>
        <input type="text" id="memberSearch" placeholder="Ù†Ø§Ù… ÛŒØ§ Ú©Ø¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...">
    </div>

    <table class="data-table" id="membersTable">
        <thead>
            <tr>
                <th>Ø¹Ú©Ø³</th>
                <th>Ù†Ø§Ù…</th>
                <th>Ú©Ø¯</th>
                <th>Ù¾Ø§ÛŒÙ‡</th>
                <th>Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³</th>
                <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
            </tr>
        </thead>
        <tbody>
            {% for member in members %}
            <tr>
                <td>
                    {% if member.photo_path %}
                        <img src="{{ url_for('static', filename='photos/' ~ member.photo_path) }}" width="50">
                    {% else %}
                        âŒ
                    {% endif %}
                </td>
                <td>{{ member.name }}</td>
                <td>{{ member.code }}</td>
                <td>{{ member.grade }}</td>
                <td>{{ member.phone }}</td>
                <td>
                    <a href="/member/{{ member.id }}" class="btn info">Ø§Ø·Ù„Ø§Ø¹Ø§Øª</a>
                    <a href="/edit_member/{{ member.id }}" class="btn edit">ÙˆÛŒØ±Ø§ÛŒØ´</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script>
    // Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¬Ø³Øªâ€ŒÙˆØ¬ÙˆÛŒ Ø§Ø¹Ø¶Ø§
    const searchInput = document.getElementById("memberSearch");
    searchInput.addEventListener("keyup", function() {
        const filter = searchInput.value.toLowerCase();
        const rows = document.querySelectorAll("#membersTable tbody tr");
        rows.forEach(row => {
            const name = row.cells[1].textContent.toLowerCase();
            const code = row.cells[2].textContent.toLowerCase();
            if(name.includes(filter) || code.includes(filter)) {
                row.style.display = "";
            } else {
                row.style.display = "none";
            }
        });
    });
</script>

</body>
</html>
