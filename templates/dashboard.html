<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <title>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØª</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        body { font-family: Tahoma, sans-serif; background-color: #f7f7f7; }
        .dashboard { max-width: 1200px; margin: 30px auto; padding: 20px; }
        h1 { text-align: center; margin-bottom: 40px; }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .card {
            background-color: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            text-decoration: none;
            color: #333;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .card h2 { font-size: 22px; margin-bottom: 10px; }
        .card p { font-size: 18px; }

        /* Ø±Ù†Ú¯ Ø¨Ù†Ø¯ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ */
        .card.members { background-color: #4CAF50; color: white; }
        .card.books { background-color: #2196F3; color: white; }
        .card.borrowed { background-color: #f44336; color: white; }
        .card.free { background-color: #FF9800; color: white; }
        .card.new-borrow { background-color: #9C27B0; color: white; }

        .logout { display: block; text-align:center; margin-top:40px; }
        .logout a { background-color: #607D8B; color: white; padding: 10px 20px; border-radius: 10px; text-decoration: none; transition: background 0.2s; }
        .logout a:hover { background-color: #455A64; }
    </style>
</head>
<body>

<div class="dashboard">
    <h1>ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØª Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡</h1>

    <div class="cards">
        <a href="/members" class="card members">
            <h2>ğŸ‘¥ Ø§Ø¹Ø¶Ø§</h2>
            <p>ØªØ¹Ø¯Ø§Ø¯ Ø§Ø¹Ø¶Ø§: {{ members_count }}</p>
        </a>

        <a href="/books" class="card books">
            <h2>ğŸ“š Ú©ØªØ§Ø¨â€ŒÙ‡Ø§</h2>
            <p>ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§: {{ books_count }}</p>
        </a>

        <a href="/borrowed_books" class="card borrowed">
            <h2>ğŸ“– Ø§Ù…Ø§Ù†Øª Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡</h2>
            <p>ØªØ¹Ø¯Ø§Ø¯: {{ borrowed_count }}</p>
        </a>

        <a href="/free_books" class="card free">
            <h2>ğŸ“– Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø¢Ø²Ø§Ø¯</h2>
            <p>ØªØ¹Ø¯Ø§Ø¯: {{ free_count }}</p>
        </a>

        <a href="/add_borrow_select" class="card new-borrow">
            <h2>ğŸ“– Ø«Ø¨Øª Ø§Ù…Ø§Ù†Øª Ø¬Ø¯ÛŒØ¯</h2>
            <p>â• Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù…Ø§Ù†Øª</p>
        </a>

        <div class="card" style="background-color:#03A9F4; color:white;">
            <h2>ğŸ“… Ø§Ù…Ø§Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ù…Ø±ÙˆØ²</h2>
            <p>{{ today_borrows }}</p>
        </div>

        <div class="card" style="background-color:#009688; color:white;">
            <h2>â° Ø§Ù…Ø§Ù†Øªâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„</h2>
            <p>{{ active_borrows }}</p>
        </div>

        {% if top_member %}
        <div class="card" style="background-color:#E91E63; color:white;">
            <h2>ğŸ‘¤ Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø§Ù…Ø§Ù†Øªâ€ŒÚ¯ÛŒØ±Ù†Ø¯Ù‡</h2>
            <p>{{ top_member.name }} ({{ top_member.total }})</p>
        </div>
        {% endif %}

        {% if top_book %}
        <div class="card" style="background-color:#FFC107; color:white;">
            <h2>ğŸ“š Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø§Ù…Ø§Ù†Øªâ€ŒØ´Ø¯Ù‡</h2>
            <p>{{ top_book.title }} ({{ top_book.total }})</p>
        </div>
        {% endif %}
    </div>

    <div class="logout">
        <a href="/logout">ğŸšª Ø®Ø±ÙˆØ¬</a>
    </div>
</div>

</body>
</html>
